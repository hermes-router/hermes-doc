

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Package common &mdash; Hermes 0.1e documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Package dispatch" href="dispatch.html" />
    <link rel="prev" title="Service webgui" href="webgui.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/hermes_logo_w.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/hermes-router/hermes">github.com/hermes-router/hermes</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">What is Hermes?</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboards.html">Dashboard Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Topics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="support.html">Discussion Board</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Information</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bookkeeper.html">Service bookkeeper</a></li>
<li class="toctree-l2"><a class="reference internal" href="cleaner.html">Service cleaner</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatcher.html">Service dispatcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="router.html">Service router</a></li>
<li class="toctree-l2"><a class="reference internal" href="webgui.html">Service webgui</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Package common</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-common.config">common.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-common.helper">common.helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-common.monitor">common.monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-common.rule_evaluation">common.rule_evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-common.version">common.version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dispatch.html">Package dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html">Package routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="webinterface.html">Package webinterface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Development Roadmap</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hermes</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Code Documentation</a> &raquo;</li>
        
      <li>Package common</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="package-common">
<h1>Package common<a class="headerlink" href="#package-common" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-common.config">
<span id="common-config"></span><h2>common.config<a class="headerlink" href="#module-common.config" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="common.config.checkFolders">
<code class="sig-prename descclassname">common.config.</code><code class="sig-name descname">checkFolders</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/config.html#checkFolders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.config.checkFolders" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if all required folders for handling the DICOM files exist.</p>
</dd></dl>

<dl class="py function">
<dt id="common.config.read_config">
<code class="sig-prename descclassname">common.config.</code><code class="sig-name descname">read_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/config.html#read_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.config.read_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the configuration settings (rules, targets, general settings) from the configuration file. The configuration will
only be updated if the file has changed compared the the last function call. If the configuration file is locked by
another process, an exception will be raised.</p>
</dd></dl>

<dl class="py function">
<dt id="common.config.save_config">
<code class="sig-prename descclassname">common.config.</code><code class="sig-name descname">save_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/config.html#save_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.config.save_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the current configuration in a file on the disk. Raises an exception if the file has
been locked by another process.</p>
</dd></dl>

<dl class="py function">
<dt id="common.config.write_configfile">
<code class="sig-prename descclassname">common.config.</code><code class="sig-name descname">write_configfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">json_content</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/config.html#write_configfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.config.write_configfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrites the config file using the JSON data passed as argument. Used by the config editor of the webgui.</p>
</dd></dl>

</div>
<div class="section" id="module-common.helper">
<span id="common-helper"></span><h2>common.helper<a class="headerlink" href="#module-common.helper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="common.helper.RepeatedTimer">
<em class="property">class </em><code class="sig-prename descclassname">common.helper.</code><code class="sig-name descname">RepeatedTimer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interval</span></em>, <em class="sig-param"><span class="n">function</span></em>, <em class="sig-param"><span class="n">exit_function</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#RepeatedTimer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.RepeatedTimer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class for running a continuous timer that is suspended
while the worker function is running</p>
<dl class="py method">
<dt id="common.helper.RepeatedTimer.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#RepeatedTimer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.RepeatedTimer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the timer for triggering the calllback after the defined interval.</p>
</dd></dl>

<dl class="py method">
<dt id="common.helper.RepeatedTimer.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#RepeatedTimer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.RepeatedTimer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the timer and executes the defined exit callback function.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="common.helper.g_log">
<code class="sig-prename descclassname">common.helper.</code><code class="sig-name descname">g_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#g_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.g_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends diagnostic information to graphite (if configured).</p>
</dd></dl>

<dl class="py function">
<dt id="common.helper.isTerminated">
<code class="sig-prename descclassname">common.helper.</code><code class="sig-name descname">isTerminated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#isTerminated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.isTerminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the process will terminate after the current task.</p>
</dd></dl>

<dl class="py function">
<dt id="common.helper.sendToGraphite">
<em class="property">async </em><code class="sig-prename descclassname">common.helper.</code><code class="sig-name descname">sendToGraphite</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#sendToGraphite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.sendToGraphite" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for asynchronous graphite call to avoid wait time of main loop.</p>
</dd></dl>

<dl class="py function">
<dt id="common.helper.triggerTerminate">
<code class="sig-prename descclassname">common.helper.</code><code class="sig-name descname">triggerTerminate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/helper.html#triggerTerminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.helper.triggerTerminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger that the processing loop should terminate after finishing the currently active task.</p>
</dd></dl>

</div>
<div class="section" id="module-common.monitor">
<span id="common-monitor"></span><h2>common.monitor<a class="headerlink" href="#module-common.monitor" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="common.monitor.Monitor">
<em class="property">class </em><code class="sig-prename descclassname">common.monitor.</code><code class="sig-name descname">Monitor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module_name</span></em>, <em class="sig-param"><span class="n">instance</span></em>, <em class="sig-param"><span class="n">address</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#Monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.Monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="common.monitor.Monitor.send_event">
<code class="sig-name descname">send_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em>, <em class="sig-param"><span class="n">severity</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#Monitor.send_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.Monitor.send_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends information about general Hermes events to the bookkeeper (e.g., during module start).</p>
</dd></dl>

<dl class="py method">
<dt id="common.monitor.Monitor.send_register_series">
<code class="sig-name descname">send_register_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#Monitor.send_register_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.Monitor.send_register_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a received series on the bookkeeper. This should be called when a series has been 
fully received and the DICOM tags have been parsed.</p>
</dd></dl>

<dl class="py method">
<dt id="common.monitor.Monitor.send_series_event">
<code class="sig-name descname">send_series_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em>, <em class="sig-param"><span class="n">series_uid</span></em>, <em class="sig-param"><span class="n">file_count</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">info</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#Monitor.send_series_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.Monitor.send_series_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an event related to a specific series to the bookkeeper.</p>
</dd></dl>

<dl class="py method">
<dt id="common.monitor.Monitor.send_webgui_event">
<code class="sig-name descname">send_webgui_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em>, <em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#Monitor.send_webgui_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.Monitor.send_webgui_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends information about an event on the webgui to the bookkeeper.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="common.monitor.configure">
<code class="sig-prename descclassname">common.monitor.</code><code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module</span></em>, <em class="sig-param"><span class="n">instance</span></em>, <em class="sig-param"><span class="n">address</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/monitor.html#configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.monitor.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the connection to the bookkeeper module. If not called, events
will not be transmitted to the bookkeeper.</p>
</dd></dl>

</div>
<div class="section" id="module-common.rule_evaluation">
<span id="common-rule-evaluation"></span><h2>common.rule_evaluation<a class="headerlink" href="#module-common.rule_evaluation" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="common.rule_evaluation.parse_rule">
<code class="sig-prename descclassname">common.rule_evaluation.</code><code class="sig-name descname">parse_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em>, <em class="sig-param"><span class="n">tags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/rule_evaluation.html#parse_rule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.rule_evaluation.parse_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given rule, replaces all tag variables with values from the given tags dictionary, and
evaluates the rule. If the rule is invalid, an exception will be raised.</p>
</dd></dl>

<dl class="py function">
<dt id="common.rule_evaluation.replace_tags">
<code class="sig-prename descclassname">common.rule_evaluation.</code><code class="sig-name descname">replace_tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em>, <em class="sig-param"><span class="n">tags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/rule_evaluation.html#replace_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.rule_evaluation.replace_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all tags with format &#64;tagname&#64; in the given rule string with
the corresponding values from the currently processed series (stored
in the second argument).</p>
</dd></dl>

<dl class="py function">
<dt id="common.rule_evaluation.test_rule">
<code class="sig-prename descclassname">common.rule_evaluation.</code><code class="sig-name descname">test_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rule</span></em>, <em class="sig-param"><span class="n">tags</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/common/rule_evaluation.html#test_rule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#common.rule_evaluation.test_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests the given rule for validity using the given tags dictionary. Similar to parse_rule but with
more diagnostic output format for the testing dialog. Also warns about invalid tags.</p>
</dd></dl>

</div>
<div class="section" id="module-common.version">
<span id="common-version"></span><h2>common.version<a class="headerlink" href="#module-common.version" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dispatch.html" class="btn btn-neutral float-right" title="Package dispatch" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="webgui.html" class="btn btn-neutral float-left" title="Service webgui" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Kai Tobias Block, Joshy Cyriac

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63470225-6', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>